{% resource 'tess/joint.css'%}
{% resource 'tess/joint.js'%}
{% resource 'tess/training_workflows.js' %}

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>

<div id="paper">
</div>

<hr>

<div class="workflow-options">
    <div id="save-button" class="btn btn-primary">
        <i class="icon-save"> Save </i>
    </div>

    <div id="download-button" class="btn btn-primary">
        <i class="icon-download-alt"> Download as RO </i>
    </div>
</div>


<script type="text/javascript">
    $(document).ready(function () {
        $('#add-new-button').click(function() {
            var el1 = new joint.shapes.html.Element({
                    inPorts: ['in1','in2'],
                    outPorts: ['out'],
                position: {x: x_pos, y: y_pos},
                size: { width: 170, height: 100 },
                select: 'operation',
                attrs: {
                    '.inPorts circle': {fill: '#16A085'},
                    '.outPorts circle': {fill: '#E74C3C'}
                }
            });
            console.log();
            el1.toFront();
            x_pos = x_pos+20;
            y_pos = y_pos+20;
            graph.addCell(el1);
            $('.workflow-options').show();
            $('.stage-panel').show();
        }),

        $('#save-button').click(function() {
            alert('Saves the workflow in TeSS');
        }),
        $('#download-button').click(function() {
            alert('Downloads the workflow as JSON, Common Workflow Description, RO etc');
        })
    });
</script>